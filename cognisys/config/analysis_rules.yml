# Analysis Rules Configuration

deduplication:
  exact_match:
    enabled: true
    min_file_size: 1024
    hash_algorithm: "sha256"

  fuzzy_filename:
    enabled: true  # Re-enabled with optimizations
    similarity_threshold: 0.85
    same_folder_only: true
    max_folder_files: 1000  # Skip folders with more files than this
    min_file_size: 1024  # Minimum file size (1KB) to consider
    ignore_patterns:
      - r'\s*\(\d+\)'
      - r'\s*-\s*Copy'
      - r'\s*_v\d+'
      - r'\s*_backup'

  canonical_selection:
    priorities:
      - rule: "newest_modified"
        weight: 10
      - rule: "preferred_path"
        weight: 20
      - rule: "shorter_path"
        weight: 10
      - rule: "access_frequency"
        weight: 15
      - rule: "descriptive_name"
        weight: 5
    preferred_paths:
      - "C:\\Projects\\Active"
      - "C:\\Documents\\Work"

orphaned_files:
  criteria:
    - not_accessed_days: 365
    - size_less_than_kb: 10
    - extension_in: [".tmp", ".bak", ".old"]

  patterns:
    - "**/*.tmp"
    - "**/*.bak"
    - "**/~$*"
    - "**/Untitled*"

low_value_files:
  cache_patterns:
    - "**/cache/**"
    - "**/.cache/**"
    - "**/temp/**"
    - "**/Temp/**"

  log_patterns:
    - "**/*.log"
    - "**/*.trace"

  age_threshold_days: 90
